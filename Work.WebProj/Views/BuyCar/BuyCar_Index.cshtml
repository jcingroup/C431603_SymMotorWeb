@{
    ViewBag.Title = "購車服務";
    ViewBag.BodyClass = "BuyCar";
    Layout = "~/Views/Shared/Layout.cshtml";
}

@section css {
    <link href="~/Content/css/swiper.min.css" rel="stylesheet">
}

@section Scripts {
    <script src="~/Content/js/swiper/swiper.min.js"></script>
    <script>
        var banner = new Swiper('#banner', {
            effect: 'fade',
            autoplay: 2500,
            autoplayDisableOnInteraction: 'true',
            speed: 500
        });
        var bannerThumb = new Swiper('#banner-thumb', {
            spaceBetween: 10,
            centeredSlides: true,
            slidesPerView: 3,
            touchRatio: 0.2,
            nextButton: '.swiper-button-next',
            prevButton: '.swiper-button-prev',
            slideToClickedSlide: true
        });
        banner.params.control = bannerThumb;
        bannerThumb.params.control = banner;
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script type="text/javascript">
        // When the window has finished loading create our google map below
        google.maps.event.addDomListener(window, 'load', init);

        function init() {
            // Basic options for a simple Google Map
            // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions
            var mapOptions = {
                // How zoomed in you want the map to start at (always required)
                zoom: 14,

                // The latitude and longitude to center the map (always required)
                center: new google.maps.LatLng(25.0161618,121.299573) // center
            };

            // Get the HTML DOM element that will contain your map
            // We are using a div with id="map" seen below in the <body>
            var mapElement = document.getElementById('map');

            // Create the Google Map using our element and options defined above
            var map = new google.maps.Map(mapElement, mapOptions);



            // Data for the markers consisting of a name, a LatLng and a zIndex for the
            // order in which these markers should display on top of each other.
            var stores = [
                ['store 1', 25.000931, 121.313221, 'store 1<br>test', 1],
                ['store 2', 25.039490, 121.282920, 'store 2<br>test', 2],
                ['store 3', 25.050344, 121.288070, 'store 3<br>test', 3],
                ['store 4', 24.953543, 121.204643, 'store 4<br>test', 4],
                ['store 5', 24.950709, 121.296996, 'store 5<br>test', 5]
            ];

            // Customized icon
            // var image = {
            //     url: 'car189.png',
            //     size: new google.maps.Size(32, 32), // This marker is 32 pixels wide by 32 pixels high.
            //     origin: new google.maps.Point(0, 0), // The origin for this image is (0, 0).
            //     anchor: new google.maps.Point(16, 16) // The anchor for this image is the base of the flagpole at (16, 16).
            // };

            var infoWindow = new google.maps.InfoWindow({map: map});


            // multi positions
            for (var i = 0; i < stores.length; i++) {
                var store = stores[i];
                var marker = new google.maps.Marker({
                    position: {lat: store[1], lng: store[2]},
                    map: map,
                    // icon: image,
                    title: store[0],
                    info: store[3],
                    zIndex: store[4]
                });

                // open different info window
                var infowindow = new google.maps.InfoWindow({
                    content: "loading..."
                });
                marker.addListener('click', function() {
                    infowindow.setContent(this.info);
                    infowindow.open(map, this);
                });
            }

            // Try HTML5 geolocation.
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
                    infoWindow.setContent('您的位置');
                    map.setCenter(pos);
                }, function() {
                    handleLocationError(true, infoWindow, map.getCenter());
                });
            } else {
                // Browser doesn't support Geolocation
                handleLocationError(false, infoWindow, map.getCenter());
            }
        }
    </script>
}

<div id="banner" class="swiper-container">
    <ul class="swiper-wrapper list-unstyled">
        <li class="swiper-slide">
            <img src="~/Content/images/BuyCar/banner1.jpg" alt="">
        </li>
        <li class="swiper-slide">
            <img src="~/Content/images/BuyCar/banner2.jpg" alt="">
        </li>
        <li class="swiper-slide">
            <img src="~/Content/images/BuyCar/banner1.jpg" alt="">
        </li>
    </ul>
</div>
<div class="grid-gallery"><div class="wrap">
    <div id="banner-thumb" class="swiper-container">
        <ul class="swiper-wrapper list-unstyled">
            <li class="swiper-slide">
                <img src="~/Content/images/BuyCar/banner1-thumb.jpg" alt="">
            </li>
            <li class="swiper-slide">
                <img src="~/Content/images/BuyCar/banner2-thumb.jpg" alt="">
            </li>
            <li class="swiper-slide">
                <img src="~/Content/images/BuyCar/banner1-thumb.jpg" alt="">
            </li>
        </ul>
        <a class="prev swiper-button-prev" href=""></a>
        <a class="next swiper-button-next" href=""></a>
    </div>
</div></div>


<section id="location" class="grid-location"><div class="wrap">

    <section class="search">
        <h2 class="h2">營業據點查詢</h2>

        <form class="form" action="">
            <div class="form-group">
                <button class="btn">展示中心查詢</button>
                <button class="btn">維修據點查詢</button>
            </div>
            <div class="form-group">
                <label for="" class="hidden">選擇縣市</label>
                <select name="" id="" class="c-select">
                    <option value="" selected disabled>選擇縣市</option>
                </select>
            </div>
            <div class="form-group">
                <label for="" class="hidden">選擇區域</label>
                <select name="" id="" class="c-select">
                    <option value="" selected disabled>選擇區域</option>
                </select>
            </div>
        </form>
    </section>
    <section class="map">
        <h2 class="hidden">地圖</h2>
        <div id="map"></div>
    </section>

</div></section>